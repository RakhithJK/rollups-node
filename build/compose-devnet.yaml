# This compose file contains the Anvil devnet container for the node.

version: "3.9"

name: rollups-node
services:
  devnet:
    image: cartesi/rollups-node-devnet:devel
    ports:
      - 8545:8545

  node:
    depends_on:
      devnet:
        condition: service_healthy
    environment:
      CARTESI_BLOCKCHAIN_ID: "31337"
      CARTESI_BLOCKCHAIN_HTTP_ENDPOINT: "http://devnet:8545"
      CARTESI_BLOCKCHAIN_WS_ENDPOINT: "ws://devnet:8545"
      CARTESI_BLOCKCHAIN_IS_LEGACY: "false"
      CARTESI_BLOCKCHAIN_FINALITY_OFFSET: "1"
      CARTESI_CONTRACTS_DAPP_ADDRESS: "0x70ac08179605AF2D9e75782b8DEcDD3c22aA4D0C"
      CARTESI_CONTRACTS_DAPP_DEPLOYMENT_BLOCK_NUMBER: "17"
      CARTESI_CONTRACTS_HISTORY_ADDRESS: "0x4FF8BD9122b7D91d56Dd5c88FE6891Fb3c0b5281"
      CARTESI_CONTRACTS_AUTHORITY_ADDRESS: "0x5050F233F2312B1636eb7CF6c7876D9cC6ac4785"
      CARTESI_CONTRACTS_INPUT_BOX_ADDRESS: "0x59b22D57D4f067708AB0c00552767405926dc768"
      CARTESI_CONTRACTS_INPUT_BOX_DEPLOYMENT_BLOCK_NUMBER: "17"
      CARTESI_EPOCH_DURATION: "120"
      CARTESI_AUTH_MNEMONIC: "test test test test test test test test test test test junk"
